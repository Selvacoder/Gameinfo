{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import'../style/GameDetail.css';// Import the CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GameDetail=()=>{const{id}=useParams();const[game,setGame]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[rating,setRating]=useState(0);// State to manage the rating\nconst[randomRating,setRandomRating]=useState(null);// State for random rating\nuseEffect(()=>{const fetchGameDetails=async()=>{try{const response=await fetch(`http://localhost:5000/api/games/${id}`);if(!response.ok){throw new Error(`Failed to fetch game details. Status: ${response.status}`);}const data=await response.json();setGame(data);}catch(err){setError(err.message);}finally{setLoading(false);}};fetchGameDetails();},[id]);const handleRating=star=>{setRating(star);};const handleSubmitRating=()=>{// Generate a random rating between 3, 3.5, 4, 4.5, or 5\nconst randomRatings=[3,3.5,4,4.5,5];const randomIndex=Math.floor(Math.random()*randomRatings.length);const newRandomRating=randomRatings[randomIndex];// Update the random rating state\nsetRandomRating(newRandomRating);// Optionally, send the random rating to the backend (if needed)\nconsole.log(\"Random rating generated:\",newRandomRating);// You can update the backend rating submission logic here if necessary\n};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}if(!game){return/*#__PURE__*/_jsx(\"div\",{children:\"Game not found\"});}const placeholderImage='https://via.placeholder.com/300';const gameImage=game.image?`http://localhost:5000/images/${game.image}`:placeholderImage;return/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-basic\",children:[/*#__PURE__*/_jsx(\"img\",{src:gameImage,alt:game.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:game.name}),/*#__PURE__*/_jsx(\"p\",{children:game.description}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genre:\"}),\" \",game.genre||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Release Date:\"}),\" \",game.releaseDate||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Developer:\"}),\" \",game.developer||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Publisher:\"}),\" \",game.publisher||'N/A']}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-rating\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Rating:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stars\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(\"span\",{className:`star ${star<=rating?'filled':''}`,onClick:()=>handleRating(star),children:\"\\u2605\"},star))}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-rating\",onClick:handleSubmitRating,children:\"Submit\"})]}),randomRating&&/*#__PURE__*/_jsx(\"div\",{className:\"overall-rating\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Overall rating: \",randomRating]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-extra\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Story\"}),/*#__PURE__*/_jsx(\"p\",{children:game.story||'No story available.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-extra\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gameplay\"}),/*#__PURE__*/_jsx(\"p\",{children:game.gameplay||'No gameplay information available.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-extra\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Main Character\"}),/*#__PURE__*/_jsx(\"p\",{children:game.main_character||'No main character information available.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-extra\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"World\"}),/*#__PURE__*/_jsx(\"p\",{children:game.world||'No world information available.'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-detail-extra\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Unique Feature\"}),/*#__PURE__*/_jsx(\"p\",{children:game.unique_feature||'No unique feature available.'})]})]});};export default GameDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","jsx","_jsx","jsxs","_jsxs","GameDetail","id","game","setGame","loading","setLoading","error","setError","rating","setRating","randomRating","setRandomRating","fetchGameDetails","response","fetch","ok","Error","status","data","json","err","message","handleRating","star","handleSubmitRating","randomRatings","randomIndex","Math","floor","random","length","newRandomRating","console","log","children","placeholderImage","gameImage","image","className","src","alt","name","description","genre","releaseDate","developer","publisher","map","onClick","story","gameplay","main_character","world","unique_feature"],"sources":["D:/Projects/Gameinfo/frontend/src/pages/GameDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport '../style/GameDetail.css'; // Import the CSS file\r\n\r\nconst GameDetail = () => {\r\n  const { id } = useParams();\r\n  const [game, setGame] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [rating, setRating] = useState(0); // State to manage the rating\r\n  const [randomRating, setRandomRating] = useState(null); // State for random rating\r\n\r\n  useEffect(() => {\r\n    const fetchGameDetails = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/games/${id}`);\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch game details. Status: ${response.status}`);\r\n        }\r\n        const data = await response.json();\r\n        setGame(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGameDetails();\r\n  }, [id]);\r\n\r\n  const handleRating = (star) => {\r\n    setRating(star);\r\n  };\r\n\r\n  const handleSubmitRating = () => {\r\n    // Generate a random rating between 3, 3.5, 4, 4.5, or 5\r\n    const randomRatings = [3, 3.5, 4, 4.5, 5];\r\n    const randomIndex = Math.floor(Math.random() * randomRatings.length);\r\n    const newRandomRating = randomRatings[randomIndex];\r\n    \r\n    // Update the random rating state\r\n    setRandomRating(newRandomRating);\r\n\r\n    // Optionally, send the random rating to the backend (if needed)\r\n    console.log(\"Random rating generated:\", newRandomRating);\r\n\r\n    // You can update the backend rating submission logic here if necessary\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div>Error: {error}</div>;\r\n  }\r\n\r\n  if (!game) {\r\n    return <div>Game not found</div>;\r\n  }\r\n\r\n  const placeholderImage = 'https://via.placeholder.com/300';\r\n  const gameImage = game.image ? `http://localhost:5000/images/${game.image}` : placeholderImage;\r\n\r\n  return (\r\n    <div className=\"game-detail\">\r\n      <div className=\"game-detail-basic\">\r\n        <img src={gameImage} alt={game.name} />\r\n        <div className=\"game-detail-content\">\r\n          <h1>{game.name}</h1>\r\n          <p>{game.description}</p>\r\n          <p><strong>Genre:</strong> {game.genre || 'N/A'}</p>\r\n          <p><strong>Release Date:</strong> {game.releaseDate || 'N/A'}</p>\r\n          <p><strong>Developer:</strong> {game.developer || 'N/A'}</p>\r\n          <p><strong>Publisher:</strong> {game.publisher || 'N/A'}</p>\r\n\r\n          {/* 5-Star Rating Input */}\r\n          <div className=\"game-rating\">\r\n            <h2>Rating:</h2>\r\n            <div className=\"stars\">\r\n              {[1, 2, 3, 4, 5].map((star) => (\r\n                <span\r\n                  key={star}\r\n                  className={`star ${star <= rating ? 'filled' : ''}`}\r\n                  onClick={() => handleRating(star)}\r\n                >\r\n                  â˜…\r\n                </span>\r\n              ))}\r\n            </div>\r\n            <button className=\"submit-rating\" onClick={handleSubmitRating}>Submit</button>\r\n          </div>\r\n\r\n          {/* Display Random Rating */}\r\n          {randomRating && (\r\n            <div className=\"overall-rating\">\r\n              <h2>Overall rating: {randomRating}</h2>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Additional Data Sections - full-width */}\r\n      <div className=\"game-detail-extra\">\r\n        <h2>Story</h2>\r\n        <p>{game.story || 'No story available.'}</p>\r\n      </div>\r\n      <div className=\"game-detail-extra\">\r\n        <h2>Gameplay</h2>\r\n        <p>{game.gameplay || 'No gameplay information available.'}</p>\r\n      </div>\r\n      <div className=\"game-detail-extra\">\r\n        <h2>Main Character</h2>\r\n        <p>{game.main_character || 'No main character information available.'}</p>\r\n      </div>\r\n      <div className=\"game-detail-extra\">\r\n        <h2>World</h2>\r\n        <p>{game.world || 'No world information available.'}</p>\r\n      </div>\r\n      <div className=\"game-detail-extra\">\r\n        <h2>Unique Feature</h2>\r\n        <p>{game.unique_feature || 'No unique feature available.'}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}