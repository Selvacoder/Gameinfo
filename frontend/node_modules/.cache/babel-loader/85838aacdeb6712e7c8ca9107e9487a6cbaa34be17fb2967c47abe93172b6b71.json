{"ast":null,"code":"var _jsxFileName = \"D:\\\\Full stack\\\\MERN_Project\\\\gameinfo\\\\src\\\\components\\\\GameContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport GameCard from './GameCard';\nimport '../style/GameContainer.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameContainer = () => {\n  _s();\n  const [games, setGames] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedGenre, setSelectedGenre] = useState('');\n  const [currentPage, setCurrentPage] = useState(0);\n  const gamesPerPage = 15;\n  useEffect(() => {\n    const fetchGames = async () => {\n      try {\n        const query = new URLSearchParams({\n          search: searchTerm,\n          genre: selectedGenre\n        }).toString();\n        const response = await fetch(`http://localhost:5000/api/games?${query}`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch games');\n        }\n        const data = await response.json();\n        setGames(data);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchGames();\n  }, [searchTerm, selectedGenre]); // Add dependencies\n\n  const totalPages = Math.ceil(games.length / gamesPerPage);\n  useEffect(() => {\n    setCurrentPage(0);\n  }, [searchTerm, selectedGenre]);\n  const handleNext = () => {\n    if (currentPage < totalPages - 1) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n  const handlePrevious = () => {\n    if (currentPage > 0) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n  const currentGames = games.slice(currentPage * gamesPerPage, (currentPage + 1) * gamesPerPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-card-container\",\n    \"aria-live\": \"polite\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Search games...\",\n      value: searchTerm,\n      onChange: e => setSearchTerm(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => setSelectedGenre(e.target.value),\n      value: selectedGenre,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"All Genres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Action\",\n        children: \"Action\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"Adventure\",\n        children: \"Adventure\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"h2\", {\n      \"aria-live\": \"assertive\",\n      children: \"Loading games...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"error-message\",\n      \"aria-live\": \"assertive\",\n      children: [\"Error loading games: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), currentGames.length > 0 ? currentGames.map(game => /*#__PURE__*/_jsxDEV(GameCard, {\n      ...game\n    }, game.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }, this)) : !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-games\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No games found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Try searching for something else.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevious,\n        disabled: currentPage === 0,\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNext,\n        disabled: currentPage === totalPages - 1,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(GameContainer, \"HN+u/0a/AdE41MG/niSm+OOhVzA=\");\n_c = GameContainer;\nexport default GameContainer;\nvar _c;\n$RefreshReg$(_c, \"GameContainer\");","map":{"version":3,"names":["React","useState","useEffect","GameCard","jsxDEV","_jsxDEV","GameContainer","_s","games","setGames","loading","setLoading","error","setError","searchTerm","setSearchTerm","selectedGenre","setSelectedGenre","currentPage","setCurrentPage","gamesPerPage","fetchGames","query","URLSearchParams","search","genre","toString","response","fetch","ok","Error","data","json","err","message","totalPages","Math","ceil","length","handleNext","handlePrevious","currentGames","slice","className","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","map","game","id","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/Full stack/MERN_Project/gameinfo/src/components/GameContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport GameCard from './GameCard';\r\nimport '../style/GameContainer.css';\r\n\r\nconst GameContainer = () => {\r\n  const [games, setGames] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedGenre, setSelectedGenre] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const gamesPerPage = 15;\r\n\r\n  useEffect(() => {\r\n    const fetchGames = async () => {\r\n      try {\r\n        const query = new URLSearchParams({\r\n          search: searchTerm,\r\n          genre: selectedGenre,\r\n        }).toString();\r\n\r\n        const response = await fetch(`http://localhost:5000/api/games?${query}`);\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch games');\r\n        }\r\n        const data = await response.json();\r\n        setGames(data);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchGames();\r\n  }, [searchTerm, selectedGenre]); // Add dependencies\r\n\r\n  const totalPages = Math.ceil(games.length / gamesPerPage);\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(0);\r\n  }, [searchTerm, selectedGenre]);\r\n\r\n  const handleNext = () => {\r\n    if (currentPage < totalPages - 1) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentPage > 0) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const currentGames = games.slice(currentPage * gamesPerPage, (currentPage + 1) * gamesPerPage);\r\n\r\n  return (\r\n    <div className=\"game-card-container\" aria-live=\"polite\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search games...\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n      />\r\n      <select onChange={(e) => setSelectedGenre(e.target.value)} value={selectedGenre}>\r\n        <option value=\"\">All Genres</option>\r\n        <option value=\"Action\">Action</option>\r\n        <option value=\"Adventure\">Adventure</option>\r\n        {/* Add more genres as needed */}\r\n      </select>\r\n\r\n      {loading && <h2 aria-live=\"assertive\">Loading games...</h2>}\r\n      {error && <h2 className=\"error-message\" aria-live=\"assertive\">Error loading games: {error}</h2>}\r\n      {currentGames.length > 0 ? (\r\n        currentGames.map(game => (\r\n          <GameCard key={game.id} {...game} />\r\n        ))\r\n      ) : (\r\n        !loading && (\r\n          <div className=\"no-games\">\r\n            <h2>No games found</h2>\r\n            <p>Try searching for something else.</p>\r\n          </div>\r\n        )\r\n      )}\r\n      <div className=\"pagination-controls\">\r\n        <button onClick={handlePrevious} disabled={currentPage === 0}>\r\n          Previous\r\n        </button>\r\n        <button onClick={handleNext} disabled={currentPage === totalPages - 1}>\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameContainer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}